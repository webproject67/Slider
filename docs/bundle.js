!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){this.observers.push(t)},t.prototype.broadcast=function(t){this.observers.forEach((function(e){return e(t)}))},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(2),i(12),i(15)},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3));$.fn.slider=function(t){return new r.default(this[0],t)}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),s=function(){function t(t,e){this.init(t,e)}return t.prototype.getState=function(){return this.presenter.getState()},t.prototype.setState=function(t){this.presenter.setState(t)},t.prototype.subscribe=function(t){this.presenter.subscribe(t)},t.prototype.init=function(t,e){return this.state=$.extend({min:0,max:100,from:0,fromPercent:0,to:100,toPercent:100,step:1,view:!1,range:!1,flag:!0,progress:!0,scale:!0},e),this.presenter=new r.default(t,this.state),this.presenter},t}();e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(5)),s=n(i(6)),a=function(){function t(t,e){this.model=new r.default(e),this.view=new s.default(t),this.init()}return t.prototype.init=function(){var t=this;this.view.subscribe((function(e){return t.model.calculateValue(e)}));this.model.subscribe((function(e){return t.view.updateView(e)})),this.model.broadcast(this.model.getState())},t.prototype.getState=function(){return this.model.getState()},t.prototype.setState=function(t){this.model.setState(t)},t.prototype.subscribe=function(t){this.model.subscribe(t)},t}();e.default=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return i.state=e,i.setState(e),i}return r(e,t),e.prototype.getState=function(){return s({},this.state)},e.prototype.setState=function(t){if(t.min){if("number"!=typeof t.min)throw new Error("invalid value");this.state.min=Number(t.min)}if(t.max){if("number"!=typeof t.max)throw new Error("invalid value");this.state.max=Number(t.max)}if(t.step){if("number"!=typeof t.step)throw new Error("invalid value");this.state.step=Number(t.step)}if(t.from){if("number"!=typeof t.from)throw new Error("invalid value");this.state.from=Number(t.from)}if(t.fromPercent&&(this.state.fromPercent=Number(t.fromPercent)),t.to){if("number"!=typeof t.to)throw new Error("invalid value");this.state.to=Number(t.to)}if(t.toPercent&&(this.state.toPercent=Number(t.toPercent)),void 0!==t.view){if("boolean"!=typeof t.view)throw new Error("invalid value");this.state.view=Boolean(t.view)}if(void 0!==t.range){if("boolean"!=typeof t.range)throw new Error("invalid value");this.state.range=Boolean(t.range)}if(void 0!==t.flag){if("boolean"!=typeof t.flag)throw new Error("invalid value");this.state.flag=Boolean(t.flag)}if(void 0!==t.progress){if("boolean"!=typeof t.progress)throw new Error("invalid value");this.state.progress=Boolean(t.progress)}if(void 0!==t.scale){if("boolean"!=typeof t.scale)throw new Error("invalid value");this.state.scale=Boolean(t.scale)}this.validation()},e.prototype.calculateValue=function(t){var e="",i=0;t.max&&(i=t.max),t.fromPercent&&(e="fromPercent",i=t.fromPercent),t.toPercent&&(e="toPercent",i=t.toPercent);var n=this.state,r=n.min,s=n.max,a=n.step,o=n.toPercent,l=n.fromPercent,c=100/((s-r)/a),u=Math.round(i/c)*c;u<0&&(u=0),(i>100||u>100)&&(u=100),"fromPercent"===e&&u>o&&(u=o),"toPercent"===e&&l>u&&(u=l);var p=Number((u/c*a).toFixed())+r,d=u>=l;if("fromPercent"===e||!d)return this.setState({fromPercent:u,from:p}),void this.broadcast(this.state);("toPercent"===e||d)&&(this.setState({toPercent:u,to:p}),this.broadcast(this.state))},e.prototype.validation=function(){this.state.min>=this.state.max&&(this.state.min=this.state.max-1,this.state.from=this.state.max-1);var t=this.state.max-this.state.min;0===this.state.step&&(this.state.step=1),this.state.step<0&&(this.state.step=Math.abs(this.state.step)),(this.state.step>t||this.state.step>t)&&(this.state.step=t);var e=100/(t/this.state.step),i=this.state.from>this.state.max,n=this.state.from<this.state.min,r=this.state.from>this.state.to;(n||i||r)&&(this.state.from=this.state.min),this.state.fromPercent=(this.state.from-this.state.min)/this.state.step*e;var s=this.state.to>this.state.max,a=this.state.to<this.state.min,o=this.state.to<this.state.from;(a||s||o)&&(this.state.to=this.state.max),this.state.toPercent=(this.state.to-this.state.min)/this.state.step*e,this.broadcast(this.state)},e}(a(i(0)).default);e.default=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(0)),o=s(i(7)),l=s(i(8)),c=s(i(9)),u=s(i(10)),p=s(i(11)),d=function(t){function e(e){var i=t.call(this)||this;return i.main=e,i.start=!0,i}return r(e,t),e.prototype.updateView=function(t){this.state=t,this.start?this.render(t):(this.toggleClassNameSlider(t),this.track.updateElement(t),this.progress.updateElement(t),this.circle.updateElement(t),this.flag.updateElement(t),this.scale.updateElement(t),t.progress?this.track.getElement().appendChild(this.progress.getElement()):this.progress.getElement().remove(),t.flag?this.slider.appendChild(this.flag.getElement()):this.flag.getElement().remove(),t.scale?this.slider.appendChild(this.scale.getElement()):this.scale.getElement().remove())},e.prototype.render=function(t){var e=this;this.slider=this.createElement("slider__inner"),this.toggleClassNameSlider(t),this.track=new o.default(t),this.track.getElement().addEventListener("mousedown",this.handleItemClick.bind(this)),this.slider.appendChild(this.track.getElement()),this.progress=new l.default(t),t.progress&&this.track.getElement().appendChild(this.progress.getElement()),this.circle=new c.default(t),this.circle.getElement().querySelectorAll("div").forEach((function(t){t.addEventListener("mousedown",e.handleCircleMouseDown.bind(e)),t.addEventListener("touchstart",e.handleCircleMouseDown.bind(e))})),this.slider.appendChild(this.circle.getElement()),this.flag=new u.default(t),this.flag.getElement().querySelectorAll("div").forEach((function(t){t.addEventListener("mousedown",e.handlePinMouseDown.bind(e)),t.addEventListener("touchstart",e.handlePinMouseDown.bind(e))})),t.flag&&this.slider.appendChild(this.flag.getElement()),this.scale=new p.default(t),this.scale.getElement().querySelectorAll(".slider__item").forEach((function(t){return t.addEventListener("mousedown",e.handleItemClick.bind(e))})),t.scale&&this.slider.appendChild(this.scale.getElement()),this.wrapper=this.createElement("slider__wrapper"),this.wrapper.appendChild(this.slider),this.main.appendChild(this.wrapper),this.start=!1},e.prototype.handlePinMouseDown=function(t){var e,i=t.currentTarget,n=i.classList.contains("slider__pin_position_minimum"),r=i.classList.contains("slider__pin-vertical_position_minimum"),s=i.classList.contains("slider__pin_position_maximum"),a=i.classList.contains("slider__pin-vertical_position_maximum");(n||r)&&(e=this.circle.getElement().querySelector("div:first-child")),(s||a)&&(e=this.state.range?this.circle.getElement().querySelector("div:last-child"):this.circle.getElement().querySelector("div:first-child")),this.replaceCircle(t,e)},e.prototype.handleCircleMouseDown=function(t){var e=t.currentTarget;this.replaceCircle(t,e)},e.prototype.replaceCircle=function(t,e){var i=this;t.preventDefault();var n=function(t){var n,r=i.slider,s=r.offsetLeft,a=s+r.clientWidth,o=s+window.pageXOffset,l=a-s,c=r.offsetTop,u=c+r.clientHeight-c,p=t instanceof TouchEvent?t.targetTouches[0]:t,d=e.classList.contains("slider__circle_position_minimum"),m=e.classList.contains("slider__circle_position_maximum"),h=e.classList.contains("slider__circle_position_vertical-minimum"),f=e.classList.contains("slider__circle_position_vertical-maximum");n=h||f?(p.pageY-c)/u*100:(p.pageX-o)/l*100,(d||h)&&i.broadcast({fromPercent:n}),(m||f)&&i.broadcast({toPercent:n})},r=function(){document.removeEventListener("touchmove",n),document.removeEventListener("mousemove",n),document.removeEventListener("touchend",r),document.removeEventListener("mouseup",r)};document.addEventListener("touchmove",n),document.addEventListener("mousemove",n),document.addEventListener("touchend",r),document.addEventListener("mouseup",r)},e.prototype.handleItemClick=function(t){var e,i=t.currentTarget,n=this.scale.getElement(),r=this.wrapper,s=r.offsetLeft,a=s+r.clientWidth,o=r.offsetTop,l=s+window.pageXOffset,c=a-s,u=i.offsetHeight;e=n.classList.contains("slider__list_state_transformed")?(t.pageY-o)/u*100:(t.pageX-l)/c*100,"slider__item"===i.className&&(e=parseFloat(i.style.left)),this.broadcast({max:e})},e.prototype.createElement=function(t){var e=document.createElement("div");return e.className=t,e},e.prototype.toggleClassNameSlider=function(t){var e="slider__inner_size_height";t.view?this.slider.classList.add(e):this.slider.classList.remove(e)},e}(a.default);e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.createElement(t)}return t.prototype.getElement=function(){return this.element},t.prototype.updateElement=function(t){var e="slider__track_size_height";return t.view?this.element.classList.add(e):this.element.classList.remove(e),this.element},t.prototype.createElement=function(t){this.element=document.createElement("div"),this.element.className="slider__track",this.updateElement(t)},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.createElement(t)}return t.prototype.getElement=function(){return this.element},t.prototype.updateElement=function(t){var e=t.view,i=t.fromPercent,n=t.toPercent,r="slider__bar_size_width";return this.element.style.top="",this.element.style.height="",this.element.style.marginLeft="",this.element.style.marginRight="",e?(this.element.classList.add(r),this.element.style.top=i+"%",this.element.style.height=n-i+"%"):(this.element.classList.remove(r),this.element.style.marginLeft=i+"%",this.element.style.marginRight=100-n+"%"),this.element},t.prototype.createElement=function(t){this.element=document.createElement("div"),this.element.className="slider__bar",this.updateElement(t)},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.quantityCircle=2,this.circle=[],this.createElements(t)}return t.prototype.getElement=function(){return this.element},t.prototype.updateElement=function(t){for(var e=this,i=t.range,n=t.view,r=t.fromPercent,s=t.toPercent,a=function(t){o.circle[t].className="",o.circle[t].style.left="",o.circle[t].style.top="";var a=function(){e.circle[t].className="slider__circle slider__circle_position_maximum",e.circle[t].style.left=s+"%"},l=function(){e.circle[t].className="slider__circle slider__circle_position_vertical-maximum",e.circle[t].style.top=s+"%"},c=!t&&!i;c&&!n&&a(),c&&n&&l(),i&&!n&&(t?a():(e.circle[t].className="slider__circle slider__circle_position_minimum",e.circle[t].style.left=r+"%")),i&&n&&(t?l():(e.circle[t].className="slider__circle slider__circle_position_vertical-minimum",e.circle[t].style.top=r+"%"))},o=this,l=0;l<this.quantityCircle;l+=1)a(l);return this.element},t.prototype.createElements=function(t){this.element=this.createElement("slider__circles");for(var e=0;e<this.quantityCircle;e+=1)this.circle[e]=this.createElement(),this.element.appendChild(this.circle[e]);this.updateElement(t)},t.prototype.createElement=function(t){var e=document.createElement("div");return t&&(e.className=t),e},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.quantityPin=2,this.pin=[],this.createElements(t)}return t.prototype.getElement=function(){return this.element},t.prototype.updateElement=function(t){for(var e=this,i=t.range,n=t.view,r=t.fromPercent,s=t.toPercent,a=t.from,o=t.to,l=function(t){c.pin[t].className="",c.pin[t].textContent="",c.pin[t].style.left="",c.pin[t].style.top="";var l=function(){e.pin[t].className="slider__pin slider__pin_position_maximum",e.pin[t].textContent=String(o),e.pin[t].style.left=s+"%"},u=function(){e.pin[t].className="slider__pin-vertical slider__pin-vertical_position_maximum",e.pin[t].textContent=String(o),e.pin[t].style.top=s+"%"},p=!t&&!i;p&&!n&&l(),p&&n&&u(),i&&!n&&(t?l():(e.pin[t].className="slider__pin slider__pin_position_minimum",e.pin[t].textContent=String(a),e.pin[t].style.left=r+"%")),i&&n&&(t?u():(e.pin[t].className="slider__pin-vertical slider__pin-vertical_position_minimum",e.pin[t].textContent=String(a),e.pin[t].style.top=r+"%"))},c=this,u=0;u<this.quantityPin;u+=1)l(u);return this.element},t.prototype.createElements=function(t){this.element=this.createElement("slider__pins");for(var e=0;e<this.quantityPin;e+=1)this.pin[e]=this.createElement(),this.element.appendChild(this.pin[e]);this.updateElement(t)},t.prototype.createElement=function(t){var e=document.createElement("div");return t&&(e.className=t),e},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.quantityItem=20,this.item=[],this.quantity=[],this.createElements(t)}return t.prototype.getElement=function(){return this.element},t.prototype.updateElement=function(t){var e=t.min,i=t.max,n=t.step,r=t.view,s="slider__list_state_transformed",a="slider__quantity_state_transformed",o=(i-e)/n,l=100/o,c=1;o>this.quantityItem&&(c=Math.ceil(o/this.quantityItem));for(var u=l*c,p=0;p<=this.quantityItem;p+=1)if(r?(this.element.classList.add(s),this.quantity[p].classList.add(a)):(this.element.classList.remove(s),this.quantity[p].classList.remove(a)),0!==p)if(20!==p)if(this.item[p].style.display="",u>99)this.item[p].style.display="none";else{var d=Number((u/l*n).toFixed())+e;this.quantity[p].textContent=String(d),this.item[p].style.left=u+"%",u+=l*c}else this.item[p].style.left="100%",this.quantity[p].textContent=String(i);else this.item[p].style.left="0%",this.quantity[p].textContent=String(e);return this.element},t.prototype.createElements=function(t){this.element=this.createElement("slider__list");for(var e=0;e<=this.quantityItem;e+=1)this.item[e]=this.createElement("slider__item"),this.item[e].textContent="|",this.quantity[e]=this.createElement("slider__quantity"),this.item[e].appendChild(this.quantity[e]),this.element.appendChild(this.item[e]);this.updateElement(t)},t.prototype.createElement=function(t){var e=document.createElement("div");return e.className=t,e},t}();e.default=n},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(13));$.fn.panel=function(t){return new r.default(this[0],t)}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(14)),s=function(){function t(t,e){this.main=t,this.slider=e,this.init()}return t.prototype.init=function(){this.configuringPanel=new r.default(this.slider.getState()),this.main.querySelector(".slider__wrapper").appendChild(this.configuringPanel.getElement()),this.subscribe()},t.prototype.subscribe=function(){var t=this;this.configuringPanel.subscribe((function(e){return t.slider.setState(e)}));this.slider.subscribe((function(e){return t.configuringPanel.updateElement(e)}))},t}();e.default=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var i=t.call(this)||this;return i.data=[{label:"Минимальное значение",dataset:"min",type:"number"},{label:"Максимальное значение",dataset:"max",type:"number"},{label:"От",dataset:"from",type:"number",readonly:!0},{label:"До",dataset:"to",type:"number",readonly:!0},{label:"Шаг",dataset:"step",type:"number"},{label:"Вертикальный",dataset:"view",type:"checkbox"},{label:"Интервал",dataset:"range",type:"checkbox"},{label:"Значение",dataset:"flag",type:"checkbox"},{label:"Шкала",dataset:"scale",type:"checkbox"},{label:"Прогресс",dataset:"progress",type:"checkbox"}],i.label=[],i.input=[],i.createElements(e),i}return r(e,t),e.prototype.getElement=function(){return this.element},e.prototype.updateElement=function(t){var e=this,i=t.range,n=t.from,r=t.to,s=t.min,a=t.max,o=t.step;return this.data.forEach((function(l,c){"min"===e.input[c].dataset.name&&(e.input[c].value=String(s)),"max"===e.input[c].dataset.name&&(e.input[c].value=String(a)),"step"===e.input[c].dataset.name&&(e.input[c].value=String(o)),"from"===e.input[c].dataset.name&&(e.label[c].style.display=i?"":"none",e.input[c].value=String(n)),"to"===e.input[c].dataset.name&&(e.label[c].textContent=i?"До":"Текущее значение",e.input[c]=e.createElementInput(e.data[3],t),e.input[c].value=String(r),e.label[c].appendChild(e.input[c]))})),this.element},e.prototype.createElements=function(t){var e=this;this.element=this.createElement("div","slider__labels"),this.data.forEach((function(i,n){e.label[n]=e.createElementLabel(i,n,t),e.label[n].addEventListener("change",e.handleLabelChange.bind(e,t)),e.element.appendChild(e.label[n])})),this.updateElement(t)},e.prototype.createElement=function(t,e){var i=document.createElement(t);return i.className=e,i},e.prototype.createElementLabel=function(t,e,i){var n=this.createElement("label","slider__label");n.textContent=t.label;var r="min"===t.dataset,s="max"===t.dataset,a="from"===t.dataset,o="to"===t.dataset,l="step"===t.dataset;return(r||s||a||o||l)&&n.classList.add("slider__label_state_displayed"),this.input[e]=this.createElementInput(t,i),n.appendChild(this.input[e]),n},e.prototype.createElementInput=function(t,e){var i=e.range,n=e.view,r=e.flag,s=e.scale,a=e.progress,o=this.createElement("input","slider__"+t.dataset);return o.dataset.name=t.dataset,o.type=t.type,t.readonly&&(o.readOnly=t.readonly),"view"===t.dataset&&(o.checked=n),"range"===t.dataset&&(o.checked=i),"flag"===t.dataset&&(o.checked=r),"scale"===t.dataset&&(o.checked=s),"progress"===t.dataset&&(o.checked=a),o},e.prototype.handleLabelChange=function(t,e){var i,n,r=e.currentTarget.querySelector("input"),s="min"===r.dataset.name,a="max"===r.dataset.name,o="step"===r.dataset.name,l="view"===r.dataset.name,c="range"===r.dataset.name,u="flag"===r.dataset.name,p="scale"===r.dataset.name,d="progress"===r.dataset.name,m=l||u||p||d,h=Number(r.value);s&&this.broadcast({min:h,from:h,fromPercent:0}),a&&this.broadcast({max:h,to:h,toPercent:100}),o&&this.broadcast({step:h}),c&&this.broadcast(((i={})[""+r.dataset.name]=r.checked,i.from=t.min,i.fromPercent=0,i)),m&&this.broadcast(((n={})[""+r.dataset.name]=r.checked,n))},e}(s(i(0)).default);e.default=a},function(t,e,i){}]);
//# sourceMappingURL=bundle.js.map